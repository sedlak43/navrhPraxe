{% extends 'base.html.twig' %}

{% block title %}Cestovní kancelář VŠPJ{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        /* Main content padding to align with header */
        main {
            padding-top: 76px;
        }

        body, html {
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        /* Styles for carousel images */
        .carousel-item img {
            width: 100%; /* Make image full width */
            max-height: 500px; /* Limit the height of the image */
            object-fit: cover; /* Ensure the image covers the container without distortion */
            object-position: center; /* Center the image within its container */
            padding-top: 0;
            padding-bottom: 20px;
        }

        /* Form group styling */
        .form-group {
            flex: 1; /* Allow form groups to grow */
            min-width: 150px; /* Minimum width of form groups */
            display: flex;
            flex-direction: column;
        }

        /* Ensure form controls have a fixed width */
        .form-group select,
        .form-group input,
        .form-group button {
            width: 220px; /* Fixed width for all controls */
        }

        /* Adjust button width if needed */
        .form-group button {
            width: 220px; /* Fixed width for button */
        }

        .image-container {
            width: 150px; /* You can adjust this size */
            height: 150px; /* Same height to keep it square */
            border-radius: 50%; /* Creates the circle */
            overflow: hidden; /* Ensures the image stays within the circle */
            border: 3px solid #fff; /* Optional: Adds a white border */
            margin: 0 auto 15px auto; /* Centers the image and adds some margin below */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Optional: Adds a shadow for depth */
        }

        .image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Ensures the image covers the entire circle */
        }

    </style>
{% endblock %}

{% block main %}
    <!-- Hero Section with Background Image and Text -->
    <section class="hero py-5" style="background-image: url('{{ asset('images/default.png') }}');">
        <div class="hero-content">
            <h1 class="display-4">Vítejte</h1>
            <p class="lead">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
        </div>

        <div class="hero-form-container">
            <form method="get" action="{{ path('zajezdy_list') }}" style="display: flex; flex-wrap: wrap; gap: 1rem; width: 100%;">
                <!-- Destination Dropdown -->
                <div class="form-group">
                    <select class="form-select" id="destinationDropdown" name="destinace" aria-label="Destinace">
                        <option selected disabled>Destinace</option>
                        {% for destinace in destinaces %}
                            <option value="{{ destinace }}" {% if selected_destinace == destinace %}selected{% endif %}>
                                {{ destinace }}
                            </option>
                        {% endfor %}
                    </select>
                </div>

                <!-- Doprava Dropdown -->
                <div class="form-group">
                    <select class="form-select" id="dopravaDropdown" name="doprava" aria-label="Doprava">
                        <option selected disabled>Doprava</option>
                        {% for doprava in dopravas %}
                            <option value="{{ doprava }}" {% if doprava == selected_doprava %}selected{% endif %}>{{ doprava }}</option>
                        {% endfor %}
                    </select>
                </div>


                <!-- Date Picker -->
                <div class="form-group" id="datePickerContainer">
                    <input type="month" class="form-control" id="datePicker" name="date" aria-label="Datum" value="{{ selected_date }}">
                </div>

                <!-- Search Button -->
                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Hledat</button>
                </div>
            </form>
        </div>
    </section>



    <div id="myCarousel" class="carousel slide mb-6" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="0" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="1" aria-label="Slide 2" class="active" aria-current="true"></button>
            <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            <!-- First Slide -->
            <div class="carousel-item active">
                <img src="{{ asset('images/aboutus.jpg') }}" class="d-block w-100" alt="Slide 1">
                <div class="container">
                    <div class="carousel-caption text-start">
                        <h1>O nás</h1>
                        <p class="opacity-75">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                        <p><a class="btn btn-lg btn-primary" href="/onas">Zjisti více</a></p>
                    </div>
                </div>
            </div>
            <!-- Second Slide -->
            <div class="carousel-item">
                <img src="{{ asset('images/tours.jpg') }}" class="d-block w-100" alt="Slide 2">
                <div class="container">
                    <div class="carousel-caption">
                        <h1>Zájezdy</h1>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                        <p><a class="btn btn-lg btn-primary" href="/zajezdy">Naše nabídka</a></p>
                    </div>
                </div>
            </div>
            <!-- Third Slide -->
            <div class="carousel-item">
                <img src="{{ asset('images/photogallery.jpg') }}" class="d-block w-100" alt="Slide 3">
                <div class="container">
                    <div class="carousel-caption text-end">
                        <h1>Fotogalerie</h1>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                        <p><a class="btn btn-lg btn-primary" href="/galerie">Prohlídka galerie</a></p>
                    </div>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>

    <!-- Marketing messaging and featurettes -->
    <div class="container">
        <div class="row">
            {% for domovskastranka in domovskastrankas %}
                {% if domovskastranka.vystavenyZajezd1 %}
                    <div class="col-lg-4 text-center">
                        <div class="image-container">
                            <img src="{{ asset('uploads/zajezdy/' ~ domovskastranka.vystavenyZajezd1.image) }}" class="img-fluid" alt="{{ domovskastranka.vystavenyZajezd1.nazev }}">
                        </div>
                        <h2 style="margin-bottom: 20px">{{ domovskastranka.vystavenyZajezd1.nazev }}</h2>
                        <a href="{{ path('zajezd_show', {nazev: domovskastranka.vystavenyZajezd1.nazev}) }}" class="btn btn-primary">Zjisti více</a>
                    </div>
                {% endif %}
                {% if domovskastranka.vystavenyZajezd2 %}
                    <div class="col-lg-4 text-center">
                        <div class="image-container">
                            <img src="{{ asset('uploads/zajezdy/' ~ domovskastranka.vystavenyZajezd2.image) }}" class="img-fluid" alt="{{ domovskastranka.vystavenyZajezd2.nazev }}">
                        </div>
                        <h2 style="margin-bottom: 20px">{{ domovskastranka.vystavenyZajezd2.nazev }}</h2>
                        <a href="{{ path('zajezd_show', {nazev: domovskastranka.vystavenyZajezd2.nazev}) }}" class="btn btn-primary">Zjisti více</a>
                    </div>
                {% endif %}
                {% if domovskastranka.vystavenyZajezd3 %}
                    <div class="col-lg-4 text-center">
                        <div class="image-container">
                            <img src="{{ asset('uploads/zajezdy/' ~ domovskastranka.vystavenyZajezd3.image) }}" class="img-fluid" alt="{{ domovskastranka.vystavenyZajezd3.nazev }}">
                        </div>
                        <h2 style="margin-bottom: 20px">{{ domovskastranka.vystavenyZajezd3.nazev }}</h2>
                        <a href="{{ path('zajezd_show', {nazev: domovskastranka.vystavenyZajezd3.nazev}) }}" class="btn btn-primary">Zjisti více</a>
                    </div>
                {% endif %}
            {% else %}
                <p>No records found.</p>
            {% endfor %}
        </div>
    </div>

    <hr>

        <!-- Featurettes -->
        <div class="row featurette">
            <div class="col-md-7">
                <h2 class="featurette-heading fw-normal lh-1">First featurette heading. <span class="text-body-secondary">It’ll blow your mind.</span></h2>
                <p class="lead">Some great placeholder content for the first featurette here. Imagine some exciting prose here.</p>
            </div>
            <div class="col-md-5">
                <svg class="bd-placeholder-img bd-placeholder-img-lg featurette-image img-fluid mx-auto" width="500" height="500" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 500x500" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="var(--bs-secondary-bg)"></rect><text x="50%" y="50%" fill="var(--bs-secondary-color)" dy=".3em">500x500</text></svg>
            </div>
        </div>

        <hr>

        <div class="row featurette">
            <div class="col-md-7 order-md-2">
                <h2 class="featurette-heading fw-normal lh-1">Oh yeah, it’s that good. <span class="text-body-secondary">See for yourself.</span></h2>
                <p class="lead">Another featurette? Of course. More placeholder content here to give you an idea of how this layout would work with some actual real-world content in place.</p>
            </div>
            <div class="col-md-5 order-md-1">
                <svg class="bd-placeholder-img bd-placeholder-img-lg featurette-image img-fluid mx-auto" width="500" height="500" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 500x500" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="var(--bs-secondary-bg)"></rect><text x="50%" y="50%" fill="var(--bs-secondary-color)" dy=".3em">500x500</text></svg>
            </div>
        </div>

        <hr>

        <div class="row featurette">
            <div class="col-md-7">
                <h2 class="featurette-heading fw-normal lh-1">And lastly, this one. <span class="text-body-secondary">Checkmate.</span></h2>
                <p class="lead">And yes, this is the last block of representative placeholder content. Again, not really intended to be actually read, simply here to give you a better view of what this would look like with some actual content. Your content.</p>
            </div>
            <div class="col-md-5">
                <svg class="bd-placeholder-img bd-placeholder-img-lg featurette-image img-fluid mx-auto" width="500" height="500" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 500x500" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="var(--bs-secondary-bg)"></rect><text x="50%" y="50%" fill="var(--bs-secondary-color)" dy=".3em">500x500</text></svg>
            </div>
        </div>

        <hr>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const destinationDropdown = document.getElementById('destinationDropdown');
            const dopravaDropdownContainer = document.getElementById('dopravaDropdownContainer');
            const dopravaDropdown = document.getElementById('dopravaDropdown');
            const datePickerContainer = document.getElementById('datePickerContainer');
            const searchButtonContainer = document.getElementById('searchButtonContainer');

            // Event listener for the first dropdown
            destinationDropdown.addEventListener('change', function () {
                const selectedValue = this.value;

                // Populate the second dropdown based on the first dropdown selection
                dopravaDropdownContainer.style.display = 'block'; // Show the doprava dropdown
                datePickerContainer.style.display = 'block'; // Show the date picker
                searchButtonContainer.style.display = 'block'; // Show the search button
            });

            // Event listener for the second dropdown
            dopravaDropdown.addEventListener('change', function () {
                datePickerContainer.style.display = 'block'; // Show the date picker
            });

            // Event listener for the date picker
            datePickerContainer.addEventListener('change', function () {
                searchButtonContainer.style.display = 'block'; // Show the search button
            });
        });
    </script>
{% endblock %}
